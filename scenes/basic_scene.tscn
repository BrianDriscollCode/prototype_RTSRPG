[gd_scene load_steps=12 format=2]

[ext_resource path="res://assets/terrain/tile_0000.png" type="Texture" id=1]
[ext_resource path="res://assets/sprites/tile_0121.png" type="Texture" id=2]
[ext_resource path="res://assets/sprites/tile_0084.png" type="Texture" id=3]
[ext_resource path="res://scripts/reference/player(REFERENCE).gd" type="Script" id=4]
[ext_resource path="res://scripts/ghost.gd" type="Script" id=5]
[ext_resource path="res://scripts/SceneState.gd" type="Script" id=6]
[ext_resource path="res://scripts/MouseHandler.gd" type="Script" id=7]
[ext_resource path="res://lighting/plaster_wall.jpg" type="Texture" id=8]
[ext_resource path="res://tilemaps/terrain.tres" type="TileSet" id=9]

[sub_resource type="CapsuleShape2D" id=1]
radius = 7.0
height = 0.0

[sub_resource type="CircleShape2D" id=2]
radius = 43.0116

[node name="Node2D" type="Node2D"]
__meta__ = {
"_edit_horizontal_guides_": [ -19.0 ]
}

[node name="TileMap" type="TileMap" parent="."]
visible = false
position = Vector2( 490, 276 )
tile_set = ExtResource( 9 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( -1114143, -1073741771, 0, -1114142, -1073741771, 0, -1114141, -1073741771, 0, -1114140, -1073741771, 0, -1114139, -1073741771, 0, -1114138, -1073741771, 0, -1114137, -1073741771, 0, -1114136, -1073741771, 0, -1114135, -1073741771, 0, -1114134, -1073741771, 0, -1114133, -1073741771, 0, -1114132, -1073741771, 0, -1114131, -1073741771, 0, -1114130, -1073741771, 0, -1114129, -1073741771, 0, -1114128, -1073741771, 0, -1114127, -1073741771, 0, -1114126, -1073741771, 0, -1114125, -1073741771, 0, -1114124, -1073741771, 0, -1114123, -1073741771, 0, -1048607, -1073741771, 0, -1048606, -1073741771, 0, -1048605, -1073741771, 0, -1048604, -1073741771, 0, -1048603, -1073741771, 0, -1048602, -1073741771, 0, -1048601, -1073741771, 0, -1048600, -1073741771, 0, -1048599, -1073741771, 0, -1048598, -1073741771, 0, -1048597, -1073741771, 0, -1048596, -1073741771, 0, -1048595, -1073741771, 0, -1048594, -1073741771, 0, -1048593, -1073741771, 0, -1048592, -1073741771, 0, -1048591, -1073741771, 0, -1048590, -1073741771, 0, -1048589, -1073741771, 0, -1048588, -1073741771, 0, -1048587, -1073741771, 0, -983071, -1073741771, 0, -983070, -1073741771, 0, -983069, -1073741771, 0, -983068, -1073741771, 0, -983067, -1073741771, 0, -983066, -1073741771, 0, -983065, -1073741771, 0, -983064, -1073741771, 0, -983063, -1073741771, 0, -983062, -1073741771, 0, -983061, -1073741771, 0, -983060, -1073741771, 0, -983059, -1073741771, 0, -983058, -1073741771, 0, -983057, -1073741771, 0, -983056, -1073741771, 0, -983055, -1073741771, 0, -983054, -1073741771, 0, -983053, -1073741771, 0, -983052, -1073741771, 0, -983051, -1073741771, 0, -917536, 26, 0, -917535, 26, 0, -917534, 26, 0, -917533, 26, 0, -917532, 26, 0, -917531, 26, 0, -917530, 26, 0, -917529, 26, 0, -917528, 26, 0, -917527, 26, 0, -917526, 26, 0, -917525, 26, 0, -917524, 26, 0, -917523, 26, 0, -917522, 26, 0, -917521, 26, 0, -917520, 26, 0, -917519, 26, 0, -917518, 26, 0, -917517, 26, 0, -917516, 26, 0, -917515, 26, 0, -917514, 26, 0, -852000, 14, 0, -851999, 14, 0, -851998, 14, 0, -851997, 14, 0, -851996, 14, 0, -851995, 14, 0, -851994, 14, 0, -851993, 14, 0, -851992, 14, 0, -851991, 14, 0, -851990, 14, 0, -851989, 14, 0, -851988, 14, 0, -851987, 14, 0, -851986, 14, 0, -851985, 14, 0, -851984, 14, 0, -851983, 14, 0, -851982, 14, 0, -851981, 14, 0, -851980, 1610612750, 0, -851979, 14, 0, -851978, 14, 0, -786463, -1073741810, 0, -786462, 1610612736, 0, -786461, 1610612736, 0, -786460, -1073741772, 0, -786459, 50, 0, -786458, 50, 0, -786457, 50, 0, -786456, 50, 0, -786455, 50, 0, -786454, 50, 0, -786453, 50, 0, -786452, 50, 0, -786451, 50, 0, -786450, 50, 0, -786449, 50, 0, -786448, 50, 0, -786447, 50, 0, -786446, 52, 0, -786445, 1610612736, 0, -786444, 1610612736, 0, -786443, -1610612722, 0, -720927, -1610612722, 0, -720926, 1610612736, 0, -720925, 1610612736, 0, -720924, -1073741774, 0, -720923, -1073741776, 0, -720922, -1073741776, 0, -720921, -1073741776, 0, -720920, -1073741776, 0, -720919, -1073741776, 0, -720918, -1073741776, 0, -720917, -1073741776, 0, -720916, -1073741776, 0, -720915, -1073741776, 0, -720914, -1073741776, 0, -720913, -1073741776, 0, -720912, -1073741776, 0, -720911, -1610612688, 0, -720910, -1610612686, 0, -720909, 1610612736, 0, -720908, 1610612736, 0, -720907, -1610612722, 0, -655391, -1610612722, 0, -655390, 1610612736, 0, -655389, 1610612736, 0, -655388, -1073741774, 0, -655387, 49, 0, -655386, 48, 0, -655385, 48, 0, -655384, 49, 0, -655383, 49, 0, -655382, 48, 0, -655381, 49, 0, -655380, 48, 0, -655379, -1610612688, 0, -655378, -1610612688, 0, -655377, -1610612688, 0, -655376, -1610612688, 0, -655375, -1610612688, 0, -655374, -1610612686, 0, -655373, 1610612736, 0, -655372, 1610612736, 0, -655371, -1610612722, 0, -589855, -1610612722, 0, -589854, 1610612736, 0, -589853, 1610612736, 0, -589852, -1073741774, 0, -589851, 49, 0, -589850, 48, 0, -589849, 49, 0, -589848, 49, 0, -589847, 49, 0, -589846, 49, 0, -589845, 49, 0, -589844, 48, 0, -589843, 49, 0, -589842, -1610612688, 0, -589841, -1610612688, 0, -589840, -1610612688, 0, -589839, -1610612688, 0, -589838, -1610612686, 0, -589837, 1610612736, 0, -589836, 1610612736, 0, -589835, -1610612722, 0, -524319, -1610612722, 0, -524318, 1610612736, 0, -524317, 1610612736, 0, -524316, 1610612788, 0, -524315, 1610612787, 0, -524314, 1610612787, 0, -524313, 1610612787, 0, -524312, 1610612787, 0, -524311, 1610612787, 0, -524310, 1610612787, 0, -524309, 1610612787, 0, -524308, 1610612787, 0, -524307, 1610612787, 0, -524306, 1610612787, 0, -524305, 1610612787, 0, -524304, 1610612787, 0, -524303, 1610612787, 0, -524302, -1610612684, 0, -524301, 1610612736, 0, -524300, 1610612736, 0, -524299, -1610612722, 0, -458783, -1610612722, 0, -458782, 1610612736, 0, -458781, 1610612736, 0, -458780, 1610612736, 0, -458779, 1610612736, 0, -458778, 1610612736, 0, -458777, 1610612736, 0, -458776, 1610612736, 0, -458775, 1610612736, 0, -458774, 1610612736, 0, -458773, 1610612736, 0, -458772, 1610612736, 0, -458771, 1610612736, 0, -458770, 1610612736, 0, -458769, 1610612736, 0, -458768, 1610612736, 0, -458767, 1610612736, 0, -458766, 1610612736, 0, -458765, 1610612736, 0, -458764, 1610612736, 0, -458763, -1610612722, 0, -393247, -1610612722, 0, -393246, 1610612736, 0, -393245, 1610612736, 0, -393244, 1610612736, 0, -393243, 1610612736, 0, -393242, 1610612736, 0, -393241, 1610612736, 0, -393240, 1610612736, 0, -393239, 1610612736, 0, -393238, 1610612736, 0, -393237, 1610612736, 0, -393236, 1610612736, 0, -393235, 1610612736, 0, -393234, 1610612736, 0, -393233, 1610612736, 0, -393232, 1610612736, 0, -393231, 1610612736, 0, -393230, 1610612736, 0, -393229, 1610612736, 0, -393228, 1610612736, 0, -393227, -1610612722, 0, -327711, 1610612750, 0, -327710, 1610612750, 0, -327709, 1610612750, 0, -327708, 1610612750, 0, -327707, 1610612750, 0, -327706, 1610612750, 0, -327705, 1610612750, 0, -327704, 1610612750, 0, -327703, 1610612750, 0, -327702, 1610612750, 0, -327701, 1610612750, 0, -327700, 1610612750, 0, -327699, 1610612750, 0, -327698, 1610612750, 0, -327697, 1610612750, 0, -327696, 1610612750, 0, -327695, 1610612750, 0, -327694, 1610612750, 0, -327693, 1610612750, 0, -327692, 1610612750, 0, -327691, -1610612722, 0 )

[node name="TileMapLight" type="TileMap" parent="."]
visible = false
light_mask = 2
tile_set = ExtResource( 9 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( 262148, 49, 0, 262149, 49, 0, 262150, 49, 0, 262151, 49, 0, 262152, 49, 0, 262153, 49, 0, 262154, 49, 0, 262155, 49, 0, 262156, 49, 0, 262157, 49, 0, 262158, 49, 0, 262159, 49, 0, 327684, 49, 0, 327685, 49, 0, 327686, 49, 0, 327687, 49, 0, 327688, 49, 0, 327689, 49, 0, 327690, 49, 0, 327691, 49, 0, 327692, 49, 0, 327693, 49, 0, 327694, 49, 0, 327695, 49, 0, 393220, 49, 0, 393221, 49, 0, 393222, 49, 0, 393223, 49, 0, 393224, 49, 0, 393225, 49, 0, 393226, 49, 0, 393227, 49, 0, 393228, 49, 0, 393229, 49, 0, 393230, 49, 0, 393231, 49, 0, 458756, 49, 0, 458757, 49, 0, 458758, 49, 0, 458759, 49, 0, 458760, 49, 0, 458761, 49, 0, 458762, 49, 0, 458763, 49, 0, 458764, 49, 0, 458765, 49, 0, 458766, 49, 0, 458767, 49, 0, 524292, 49, 0, 524293, 49, 0, 524294, 49, 0, 524295, 49, 0, 524296, 49, 0, 524297, 49, 0, 524298, 49, 0, 524299, 49, 0, 524300, 49, 0, 524301, 49, 0, 524302, 49, 0, 524303, 49, 0 )

[node name="TileMap2" type="TileMap" parent="."]
light_mask = 0
tile_set = ExtResource( 9 )
cell_size = Vector2( 16, 16 )
occluder_light_mask = 2
format = 1
tile_data = PoolIntArray( 262148, 49, 0, 262149, 49, 0, 262150, 49, 0, 262151, 49, 0, 262152, 49, 0, 262153, 49, 0, 262154, 49, 0, 262155, 49, 0, 262156, 49, 0, 262157, 49, 0, 262158, 49, 0, 262159, 49, 0, 327684, 49, 0, 327685, 49, 0, 327686, 49, 0, 327687, 49, 0, 327688, 49, 0, 327689, 49, 0, 327690, 49, 0, 327691, 49, 0, 327692, 49, 0, 327693, 49, 0, 327694, 49, 0, 327695, 49, 0, 393220, 49, 0, 393221, 49, 0, 393222, 49, 0, 393223, 49, 0, 393224, 49, 0, 393225, 49, 0, 393226, 49, 0, 393227, 49, 0, 393228, 49, 0, 393229, 49, 0, 393230, 49, 0, 393231, 49, 0, 458756, 49, 0, 458757, 49, 0, 458758, 49, 0, 458759, 49, 0, 458760, 49, 0, 458761, 49, 0, 458762, 49, 0, 458763, 49, 0, 458764, 49, 0, 458765, 49, 0, 458766, 49, 0, 458767, 49, 0, 524292, 49, 0, 524293, 49, 0, 524294, 49, 0, 524295, 49, 0, 524296, 49, 0, 524297, 49, 0, 524298, 49, 0, 524299, 49, 0, 524300, 49, 0, 524301, 49, 0, 524302, 49, 0, 524303, 49, 0 )

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( 162, 93 )
scale = Vector2( 0.5, 0.5 )

[node name="player" type="KinematicBody2D" parent="."]
position = Vector2( 86, 102 )
script = ExtResource( 4 )

[node name="Sprite" type="Sprite" parent="player"]
position = Vector2( 0, -2 )
texture = ExtResource( 3 )

[node name="playerCollision" type="CollisionShape2D" parent="player"]
position = Vector2( 0, -1 )
shape = SubResource( 1 )

[node name="Area2D" type="Area2D" parent="."]
position = Vector2( 230, 108 )
script = ExtResource( 5 )

[node name="Sprite" type="Sprite" parent="Area2D"]
position = Vector2( -1, 0 )
texture = ExtResource( 2 )

[node name="aggroPlayer" type="CollisionShape2D" parent="Area2D"]
shape = SubResource( 2 )

[node name="SceneState" type="Node2D" parent="."]
script = ExtResource( 6 )

[node name="free" type="Node2D" parent="SceneState"]

[node name="battle" type="Node2D" parent="SceneState"]

[node name="MouseHandler" type="Node2D" parent="."]
script = ExtResource( 7 )

[node name="Light2D" type="Light2D" parent="."]
position = Vector2( 161, 104 )
texture = ExtResource( 8 )
color = Color( 0.0784314, 1, 0, 1 )
energy = 0.71
range_item_cull_mask = 2

[node name="TileMapGreen" type="TileMap" parent="."]
cell_size = Vector2( 16, 16 )
format = 1

[node name="Sprite" type="Sprite" parent="TileMapGreen"]
visible = false
position = Vector2( 72, 72 )
texture = ExtResource( 1 )

[connection signal="body_entered" from="Area2D" to="player" method="_on_Area2D_body_entered"]
